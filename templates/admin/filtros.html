{% extends 'base.html' %}

{% block title %}Filtros de {{ cliente.nombre }}{% endblock %}

{% block content %}
<h1>Filtros de {{ cliente.nombre }}</h1>

{% if vencido %}
  <div class="alert alert-danger">
    ⚠️ Este cliente está vencido. Los filtros están bloqueados automáticamente.
  </div>
{% endif %}

<!-- Filtro Netflix -->
<form method="POST" action="{{ url_for('panel.toggle_filtro_netflix', cliente_id=cliente.id) }}">
  {% if estado_filtro_netflix %}
    <button class="btn btn-success" {% if vencido %}disabled{% endif %}>
      ✅ Filtro Netflix Activado — Click para desactivar
    </button>
  {% else %}
    <button class="btn btn-secondary" {% if vencido %}disabled{% endif %}>
      ❌ Filtro Netflix Desactivado — Click para activar
    </button>
  {% endif %}
</form>

<br>

<!-- Filtro Dispositivo -->
<form method="POST" action="{{ url_for('panel.toggle_filtro_dispositivo', cliente_id=cliente.id) }}">
  {% if estado_filtro_dispositivo %}
    <button class="btn btn-success" {% if vencido %}disabled{% endif %}>
      ✅ Filtro Dispositivo Activado — Click para desactivar
    </button>
  {% else %}
    <button class="btn btn-secondary" {% if vencido %}disabled{% endif %}>
      ❌ Filtro Dispositivo Desactivado — Click para activar
    </button>
  {% endif %}
</form>

<a href="{{ url_for('panel.clientes') }}" class="btn btn-link mt-3">⬅️ Volver a clientes</a>
{% endblock %}
